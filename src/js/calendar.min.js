/**************************************************
* 	Copyright © 2011-2024 sakuyaa.
*	All rights reserved.
*	
*	https://github.com/sakuyaa/
**************************************************/
'use strict';
let Solar={a:['星期日','星期一','星期二','星期三','星期四','星期五','星期六'],b:['0101*元旦','0214情人节','0305学雷锋纪念日','0308妇女节','0312植树节','0315消费者权益日','0401愚人节','0415国家安全教育日','0422世界地球日','0501*劳动节','0504青年节','0512护士节','0601儿童节','0701建党节','0801建军节','0903抗日战争胜利纪念日','0910教师节','0930烈士纪念日','1001*国庆节','1031万圣节前夜','1101万圣节','1111光棍节','1204宪法日','1213国家公祭日','1224平安夜','1225圣诞节'],c:['0520母亲节','0630父亲节','1144感恩节'],d:a=>a%400==0||(a%4==0&&a%100),e:a=>{let c=0;for(let b=1900;b<a.getFullYear();b++){if(Solar.d(b)){c+=366;}else{c+=365;}}for(let b=1;b<a.getMonth()+1;b++){switch(b){case 4:case 6:case 9:case 11:c+=30;break;case 2:c+=Solar.d(a.getFullYear())?29:28;break;default:c+=31;}}return c+a.getDate();},f:c=>{let e='';for(let d of Solar.b){if((c.getMonth()+1)*100+c.getDate()==parseInt(d.substring(0,4))){e+=d.substring(4);break;}}for(let d of Solar.c){let a=parseInt(d.substring(0,4));if((c.getMonth()+1)==parseInt(a/100)&&c.getDay()==a%10){let b=parseInt(a/10)%10;if(c.getDate()-(b-1)*7>0&&c.getDate()-b*7<=0){if(e){e+=' ';}e+=d.substring(4);break;}}}return e;},getSolar:a=>{let b={date:(a.getMonth()+1)+'月'+a.getDate()+'日 '+Solar.a[a.getDay()],festival:'',holiday:''};let c=Solar.f(a);if(c.charAt(0)=='*'){b.holiday=c.substring(1);}else{b.festival=c;}return b;}};let Lunar={a:['小寒','大寒','立春','雨水','惊蛰','春分','*清明','谷雨','立夏','小满','芒种','夏至','小暑','大暑','立秋','处暑','白露','秋分','寒露','霜降','立冬','小雪','大雪','冬至'],b:'甲乙丙丁戊己庚辛壬癸',c:'子丑寅卯辰巳午未申酉戌亥',d:'鼠牛虎兔龙蛇马羊猴鸡狗猪',e:['闰','正月','二月','三月','四月','五月','六月','七月','八月','九月','十月','冬月','腊月'],f:'初一二三四五六七八九十廿',g:['0101*春节','0115元宵','0202龙抬头','0303上巳节','0505*端午','0707七夕','0715中元节','0815*中秋','0909重阳','1001寒衣节','1015下元节','1208腊八节','1223北方小年','1224南方小年','1230除夕'],h:1900,i:0,j:[],k:1,l:1,m:true,x:{1382:-1,1393:-1,1395:-1,1408:-1,1413:1,1418:-1,1426:1,1430:-1,1474:1,1483:-1,1489:1,1493:-1,1501:1,1506:-1,1511:1,1524:1,1537:1,1544:-1,1556:-1,1568:-1,1581:-1,1587:1,1594:-1,1602:-1,1607:-1,1609:1,},y:{201111:1,201212:1,201416:1,201511:1,201615:1,201702:-1,201816:1,202123:-1,202210:1,202603:-1,202714:1,202917:1,},n:a=>{if(a in Lunar.x){return Math.floor(1.6+29.5306*a+0.4*Math.sin(1-0.45058*a))+Lunar.x[a];}return Math.floor(1.6+29.5306*a+0.4*Math.sin(1-0.45058*a));},o:(b,a)=>{if((b*100+a)in Lunar.y){return Math.floor(365.242*(b-1900)+6.2+15.22*a-1.9*Math.sin(0.262*a))+Lunar.y[b*100+a];}return Math.floor(365.242*(b-1900)+6.2+15.22*a-1.9*Math.sin(0.262*a));},p:c=>{for(;Lunar.h<=c;Lunar.h++){let a=Lunar.o(Lunar.h-1,23);while(Lunar.n(Lunar.i)<=a){Lunar.i++}if(Lunar.n(Lunar.i+12)<=Lunar.o(Lunar.h,23)){for(let b=0;b<12;b++){a=Lunar.o(Lunar.h,2*b+1);if(Lunar.n(Lunar.i+b)>a||Lunar.n(Lunar.i+b+1)<=a){Lunar.j.push(Lunar.i+b);break;}}}}},q:c=>{Lunar.m=false;Lunar.p(c.getFullYear());let b=Solar.e(c);let a=(c.getFullYear()-1900)*12-1;for(;;a++){if(Lunar.n(a+1)>b){let e=Lunar.j.length;for(let d=0;d<e;d++){let f=Lunar.j[d];if(f==a){Lunar.m=true;e=d+1;break;}if(f>a){e=d;break;}}Lunar.k=(a-e+11)%12+1;Lunar.l=b-Lunar.n(a)+1;break;}}},r:b=>{let a=b.getFullYear();if(Solar.e(b)<Lunar.o(a,2)){a--;}return Lunar.b[(a+56)%10]+Lunar.c[(a+56)%12]+Lunar.d[(a+56)%12]+'年 ';},s:b=>{for(let a=0;;a++){if(Lunar.o(parseInt(a/12)+1899,a%12*2)>Solar.e(b)){return Lunar.b[a%10]+Lunar.c[a%12]+'月 ';}}},t:b=>{let a=Solar.e(b);a+=9;while(a<0){a+=60000;}return Lunar.b[a%10]+Lunar.c[a%12]+'日 ';},u:b=>{Lunar.q(b);let a=Lunar.e[Lunar.k];if(Lunar.l<=10){a+=Lunar.f[0]+Lunar.f[Lunar.l];}else if(Lunar.l<20){a+=Lunar.f[10]+Lunar.f[Lunar.l%10];}else if(Lunar.l==20){a+=Lunar.f[2]+Lunar.f[10];}else if(Lunar.l==30){a+=Lunar.f[3]+Lunar.f[10];}else{a+=Lunar.f[11]+Lunar.f[Lunar.l%10];}return Lunar.m?Lunar.e[0]+a:a;},v:b=>{for(let a=0;a<24;a++){if(Solar.e(b)==Lunar.o(b.getFullYear(),a)){return Lunar.a[a];}}return'';},w:()=>{for(let a=0;a<Lunar.g.length;a++){if(Lunar.k*100+Lunar.l==parseInt(Lunar.g[a].substring(0,4))){return Lunar.g[a].substring(4);}}return'';},getLunar:b=>{let d=Lunar.u(b);let a=Lunar.w();let e=Lunar.v(b);let c={date:Lunar.r(b)+Lunar.s(b)+Lunar.t(b)+d,festival:'',holiday:''};if(e.charAt(0)=='*'){c.holiday=e.substring(1);}else{c.festival=e;}if(a.charAt(0)=='*'){if(c.holiday){c.holiday+=' ';}c.holiday+=a.substring(1);}else{if(c.festival){c.festival+=' ';}if(d=='腊月廿九'&&Lunar.u(new Date(b.getFullYear(),b.getMonth(),b.getDate()+1))!='腊月三十'){c.festival+='除夕';}else{c.festival+=a;}}return c;}};